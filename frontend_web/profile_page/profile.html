<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile</title>
    <link rel="stylesheet" href="profile.css">
    <link rel="stylesheet" href="../bars/top_bar.css">
</head>
<body>
    <header class="header" w3-include-html="../bars/top_bar.html"></header>

    <div class="container">
        <div class="profile-header">
            <img src="../src/default_avatar.jpg" alt="User Avatar" class="avatar">
            <h1>Profile</h1>
            <h2 id="welcome-message">Welcome, [User's Name]</h2>
        </div>
        <div class="profile-content">
            <div class="personal-info">
                <h3>Personal Information</h3>
                <p><strong>Name:</strong> <span id="user-name">[User's Name]</span></p>
                <p><strong>Email:</strong> <span id="user-email">[User's Email]</span></p>
                <p><strong>Phone:</strong> <span id="user-phone">[User's Phone Number]</span></p>
            </div>
            <div class="medical-info">
                <h3>Medical Card</h3>
                <p><strong>Allergens:</strong> [User's Allergens] <a href="#" class="more-link">More...</a></p>
                <h4>Booked Doctors</h4>
                <ul>
                    <li>Doctor: [Doctor's Name], Appointment: latest... <a href="#" class="more-link">More...</a></li>
                </ul>
                <h4>Doctor Appointments</h4>
                <ul>
                    <li>Complaint: latest..., Date: latest... <a href="#" class="more-link">More...</a></li>
                </ul>
                <h4>Prescription Drugs</h4>
                <ul>
                    <li>Drug: latest..., Description: latest... <a href="#" class="more-link">More...</a></li>
                </ul>
            </div>
        </div>
    </div>
    <button id="logoutButton" class="btn-logout">Logout</button>

    <script src="../scripts/include.js"></script>
    <script src="../scripts/auth.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const name = localStorage.getItem('name');
            const surname = localStorage.getItem('surname');
            const middleName = localStorage.getItem('middle_name');
            const email = localStorage.getItem('email');
            const phoneNumbers = JSON.parse(localStorage.getItem('phone_numbers') || '[]');

            document.getElementById('welcome-message').textContent = `Welcome, ${name} ${surname}`;
            document.getElementById('user-name').textContent = `${name} ${surname} ${middleName}`;
            document.getElementById('user-email').textContent = email;
            document.getElementById('user-phone').textContent = phoneNumbers.join(', ');
        });
    </script>
</body>
</html>
